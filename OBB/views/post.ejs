<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon"
        href="https://t1.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=https://x.com&size=256">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.2/css/all.css" />
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/all.css" />
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/sharp-solid.css" />
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/sharp-regular.css" />
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/sharp-light.css" />
</head>
<script type="module">

    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";


</script>

<body class="bg-black text-white px-32">
    <% if(success.length> 0){%>
        <div class="w-full fixed z-20 flex flex-col items-center justify-center mt-2">
            <div class="bg-black py-3 px-10 rounded-md">
                <h3 class="text-white flex items-center justify-center tracking-widest">
                    <img height="96" width="96" alt="Checkmark" class="w-[20px] h-[20px]  object-cover mr-2"
                        referrerpolicy="origin-when-cross-origin" src="images/checkMark.png">
                    <%= success %>!
                </h3>
            </div>
        </div>
        <% }%>

            <% if(error.length> 0){%>
                <div class="w-full fixed z-20 flex flex-col items-center justify-center mt-2">
                    <div class="bg-black py-3 px-10 rounded-md">
                        <h3 class="text-white flex items-center justify-center tracking-widest">
                            <img height="96" width="96" alt="Checkmark" class="w-[20px] h-[20px]  object-cover mr-2"
                                referrerpolicy="origin-when-cross-origin" src="images/checkMark.png">
                            <%= error %>!
                        </h3>
                    </div>
                </div>
                <% }%>
                    <div class="container flex items-center">
                        <div class="left-bar w-[25%] h-screen ">
                            <!-- Functionalities -->

                            <div class="functionsCont flex flex-col items-center justify-center w-full p-4">
                                <div class="w-full flex flex-col  p-4">
                                    <svg viewBox="0 0 24 24" aria-hidden="true" class="text-white fill-current w-8 h-8">
                                        <g>
                                            <path
                                                d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z">
                                            </path>
                                        </g>
                                    </svg>
                                </div>
                                <a href="/"
                                    class="mt-2 py-3 px-2 transition-all border-none outline-none  text-white w-full flex rounded-full  hover:bg-zinc-800 no-underline">
                                    <span class="flex items-center justify-center">
                                        <svg aria-label="Home" class="ml-2 mr-2" fill="currentColor"
                                            height="24" role="img" viewBox="0 0 24 24" width="24">
                                            <title>Home</title>
                                            <path
                                                d="M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z"
                                                fill="none" stroke="currentColor" stroke-linejoin="round"
                                                stroke-width="2"></path>
                                        </svg>
                                        <button class="ml-2"> Home</button>

                                    </span>
                                </a>
                                <a href="/search"
                                    class="mt-2 py-3 px-2 transition-all border-none outline-none text-base text-white w-full flex rounded-full hover:bg-zinc-800 no-underline">
                                    <span class="flex items-center justify-center">
                                        <svg aria-label="Search" class="ml-2 mr-2" fill="currentColor" height="24"
                                            role="img" viewBox="0 0 24 24" width="24">
                                            <title>Search</title>
                                            <path d="M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z" fill="none"
                                                stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                stroke-width="2"></path>
                                            <line fill="none" stroke="currentColor" stroke-linecap="round"
                                                stroke-linejoin="round" stroke-width="2" x1="16.511" x2="22" y1="16.511"
                                                y2="22"></line>
                                        </svg>
                                        <button class="ml-2"> Explore</button>

                                    </span>
                                </a>
                                
                                <a href="/post"
                                    class="mt-2 py-3 px-2 transition-all border-none outline-none text-base font-bold  text-white w-full flex rounded-full hover:bg-zinc-800 no-underline">
                                    <span class="flex items-center justify-center">
                                        <svg aria-label="New post" class="ml-2 mr-2" fill="currentColor" height="24"
                                            role="img" viewBox="0 0 24 24" width="24">
                                            <title>New post</title>
                                            <path
                                                d="M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z"
                                                fill="none" stroke="currentColor" stroke-linecap="round"
                                                stroke-linejoin="round" stroke-width="2"></path>
                                            <line fill="none" stroke="currentColor" stroke-linecap="round"
                                                stroke-linejoin="round" stroke-width="2" x1="6.545" x2="17.455"
                                                y1="12.001" y2="12.001"></line>
                                            <line fill="none" stroke="currentColor" stroke-linecap="round"
                                                stroke-linejoin="round" stroke-width="2" x1="12.003" x2="12.003"
                                                y1="6.545" y2="17.455"></line>
                                        </svg>
                                        <button class="ml-2"> Post</button>

                                    </span>
                                </a>
                                <a href="/profile/<%= user._id %>"
                                    class="mt-2 py-3 px-2 transition-all border-none outline-none text-base text-white w-full flex rounded-full hover:bg-zinc-800 no-underline">
                                    <span class="flex items-center justify-center">
                                        <img class="w-[30px] h-[30px] rounded-full ml-2 mr-2"
                                            src="<%= user.profilePicture %>">
                                        <button class="ml-2"> Profile</button>

                                    </span>
                                </a>
                            </div>

                        </div>
                        <div class="container w-full h-screen flex flex-col items-center justify-center">
                            <form method="post" action="/post"
                                class=" w-full h-screen flex flex-col items-center mt-32  rounded-2xl overflow-hidden"
                                enctype="multipart/form-data">
                                <div
                                    class=" w-[70%] h-[450px] mr-36 flex flex-col items-center justify-center  bg-zinc-800 overflow-hidden rounded-2xl ">
                                    <div class="nav w-full h-12 flex items-center justify-between   bg-zinc-800  p-4  ">
                                        <i
                                            class="discardTweet fa-light fa-xmark  ml-4 cursor-pointer  text-white px-3 py-3 flex items-center justify-center rounded-full"></i>
                                        <p class="tracking-wide text-lg">Create a tweet.</p>
                                        <input type="submit" value="Create"
                                            class="text-blue-600 rounded-md tracking-wide text-lg outline-none  py-2 cursor-pointer px-3  hover:text-blue-600">

                                    </div>
                                    <div
                                        class="displayImage/PostCaption flex  items-center w-full h-full justify-center overflow-hidden">
                                        <label for="imageSelector"
                                            class="cursor-pointer transition-all w-[0%] h-full items-center justify-center flex flex-col justify-center  bg-zinc-800 "
                                            id="imageLabel">
                                            <div
                                                class=" w-full h-full overflow-hidden flex flex-col items-center justify-center">
                                                <div class="postCont w-full h-full hidden overflow-hidden">

                                                </div>

                                                <input type="file" name="image" class="hidden" id="imageSelector">

                                            </div>
                                        </label>

                                        <div
                                            class=" postCaption w-[100%] h-full flex flex-col   bg-zinc-800 transition-all">
                                            <div class="userDets flex items-center p-2">
                                                <img src="<%= user.profilePicture %>"
                                                    class="w-[30px] h-[30px] rounded-full">
                                                <p class="tracking-wide ml-2">
                                                    <%= user.username %>
                                                </p>
                                            </div>
                                            <textarea type="text" name="caption"
                                                class=" border-none outline-none w-full h-[50%]  bg-zinc-800 py-4 px-3 text-white "
                                                placeholder="What is happening?!" maxlength="2200" id="textareaCaption"
                                                style="resize: none;"></textarea>
                                            <div class="flex items-center justify-between ">
                                                <label for="imageSelector">

                                                    <svg viewBox="0 0 24 24" aria-hidden="true"
                                                        class="text-[rgb(29, 155, 240)] fill-current w-6 h-6 ml-2 cursor-pointer ">
                                                        <g>
                                                            <path
                                                                d="M3 5.5C3 4.119 4.119 3 5.5 3h13C19.881 3 21 4.119 21 5.5v13c0 1.381-1.119 2.5-2.5 2.5h-13C4.119 21 3 19.881 3 18.5v-13zM5.5 5c-.276 0-.5.224-.5.5v9.086l3-3 3 3 5-5 3 3V5.5c0-.276-.224-.5-.5-.5h-13zM19 15.414l-3-3-5 5-3-3-3 3V18.5c0 .276.224.5.5.5h13c.276 0 .5-.224.5-.5v-3.086zM9.75 7C8.784 7 8 7.784 8 8.75s.784 1.75 1.75 1.75 1.75-.784 1.75-1.75S10.716 7 9.75 7z">
                                                            </path>
                                                        </g>
                                                    </svg>
                                                </label>

                                                <span class="flex items-center justify-center">
                                                    <p></p>
                                                </span>
                                                <span class="flex items-center justify-center p-4 mr-4">
                                                    <p id="inputtedWords">0</p>/<p>2,200</p>
                                                </span>
                                            </div>


                                        </div>

                                    </div>

                                </div>

                            </form>

                        </div>
                    </div>



</body>
<script>
    var textareaCaption = document.querySelector("#textareaCaption")
    var inputtedWords = document.querySelector("#inputtedWords")
    textareaCaption.addEventListener("input", function () {
        var value = this.value
        var count = value.length
        inputtedWords.textContent = count
    })
</script>
<script src="/javascripts/image-video-render.js"></script>
<script src="/javascripts/discardTweet.js"></script>

</html>